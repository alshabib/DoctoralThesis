%%
%% This is file `javagrammar.sty'
%%
%% ---- Identification
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{rlgrammar}
%% ---- initial code
\RequirePackage{ifthen}
%\RequirePackage{verbatim}
\newboolean{rlindexgrammar}
%% ---- Declaration of options
\DeclareOption{index}{\setboolean{rlindexgrammar}{true}}
\DeclareOption{noindex}{\setboolean{rlindexgrammar}{false}}
%% ---- Execution of options
\ExecuteOptions{noindex}
\ProcessOptions
%% ---- Definitions
\def\java@sanitize{\@makeother\$\@makeother\&%
\@makeother\#\@makeother\^\@makeother\_\@makeother\%\@makeother\~}
\newcommand{\rterm}[1]{{\ttfamily\upshape\bfseries\small\java@sanitize #1}}
\newcommand{\rnonterm}[1]{{\itshape #1}}
\newcommand{\ropt}[1]{{#1\hspace{-0.2ex}\raisebox{-0.6ex}{\scriptsize\itshape opt}}}
\newcommand{\rsequence}[1]{{#1\hspace{-0.1ex}\raisebox{-0.6ex}{\scriptsize\itshape seq}}}
\newcommand{\rsymlist}[1]{{#1\hspace{-0.1ex}\raisebox{-0.6ex}{\scriptsize\itshape list}}}
\newenvironment{rproduction}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\itshape #1}\/:\ifthenelse{\boolean{rlindexgrammar}}{\index{#1@{\itshape #1}}}{}\\\relax\java@sanitize\itshape\sloppy%
}
{\endlist\par}
\newenvironment{rproduction*}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\itshape #1}\/:{}\\\relax\java@sanitize\itshape\sloppy%
}
{\endlist\par}
\newenvironment{roneofproduction}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\itshape #1: one of}\ifthenelse{\boolean{rlindexgrammar}}{\index{#1@{\itshape #1}}}{}\\\relax\ttfamily\upshape\bfseries\small\java@sanitize\sloppy%
}
{\endlist\par}
\newenvironment{roneofproduction*}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\itshape #1: one of}\\\relax\ttfamily\upshape\bfseries\small\java@sanitize\sloppy%
}
{\endlist\par}
