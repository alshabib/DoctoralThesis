%%
%% This is file `javagrammar.sty'
%%
%% ---- Identification
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{vnusgrammar}
%% ---- initial code
\RequirePackage{ifthen}
%\RequirePackage{verbatim}
\newboolean{vnusindexgrammar}
%% ---- Declaration of options
\DeclareOption{index}{\setboolean{vnusindexgrammar}{true}}
\DeclareOption{noindex}{\setboolean{vnusindexgrammar}{false}}
%% ---- Execution of options
\ExecuteOptions{noindex}
\ProcessOptions
%% ---- Definitions
\def\java@sanitize{\@makeother\$\@makeother\&%
\@makeother\#\@makeother\^\@makeother\_\@makeother\%\@makeother\~}
\newcommand{\vterm}[1]{{\tt\java@sanitize #1}}
\newcommand{\vnonterm}[1]{{\it #1}}
\newcommand{\vopt}[1]{{#1\hspace{-0.2ex}\raisebox{-0.6ex}{\scriptsize\it opt}}}
\newcommand{\vsequence}[1]{{#1\hspace{-0.1ex}\raisebox{-0.6ex}{\scriptsize\it seq}}}
\newcommand{\vsymlist}[1]{{#1\hspace{-0.1ex}\raisebox{-0.6ex}{\scriptsize\it list}}}
\newenvironment{vproduction}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\it #1}\/:\ifthenelse{\boolean{vnusindexgrammar}}{\index{#1@{\it #1}}}{}\\\relax\java@sanitize\it\sloppy%
}
{\endlist\par}
\newenvironment{vproduction*}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\it #1}\/:{}\\\relax\java@sanitize\it\sloppy%
}
{\endlist\par}
\newenvironment{voneofproduction}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\it #1: one of}\ifthenelse{\boolean{vnusindexgrammar}}{\index{#1@{\it #1}}}{}\\\relax\tt\java@sanitize\sloppy%
}
{\endlist\par}
\newenvironment{voneofproduction*}[1]
{
        \list{}{\itemsep \z@
                \itemindent   -1.5em%
                \hyphenpenalty=10000\exhyphenpenalty=10000\relax%
                \advance\leftmargin 1em}%
        \item\relax {\it #1: one of}\\\relax\tt\java@sanitize\sloppy%
}
{\endlist\par}
